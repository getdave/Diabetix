!function(){window.Diabetix=Ember.Application.create()}(),function(){Diabetix.FoodsController=Ember.ArrayController.extend({searchQuery:"",actions:{queryFoods:function(){var a=this.get("searchQuery");this.set("searchQuery",""),this.transitionToRoute("foods.search",a)}}})}(),function(){Diabetix.FoodsSearchController=Ember.ArrayController.extend({})}(),function(){Diabetix.ApplicationAdapter=DS.FixtureAdapter}(),function(){Diabetix.Food=Ember.Object.extend({}),Diabetix.Food.reopenClass({queryFoods:function(a){return $.ajax({type:"GET",url:"https://api.nutritionix.com/v1_1/search/"+a+"/",data:{appId:"207894da",appKey:"9ceaebe161080c356ff15eaf2be38533",filters:{item_type:3},sort:{field:"nf_total_carbohydrate",order:"asc"},limit:100,fields:"item_id,item_name,item_description,nf_total_carbohydrate,brand_name,nf_servings_per_container,nf_serving_size_qty,nf_serving_size_unit,nf_serving_weight_grams"}}).then(function(a){var b=[];return a.hits.forEach(function(a){b.push(Diabetix.Food.create(a))}),b})}})}(),function(){Diabetix.Meal=DS.Model.extend({title:DS.attr("string"),description:DS.attr("string")}),Diabetix.Meal.FIXTURES=[{id:1,title:"David's breakfast",description:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Animi eaque corporis vitae dolor fugiat maxime sint dicta laborum nulla ratione! Illo in similique itaque perferendis. Dolorem, labore necessitatibus tenetur quisquam!"},{id:2,title:"Charlotte's lunch",description:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Animi eaque corporis vitae dolor fugiat maxime sint dicta laborum nulla ratione! Illo in similique itaque perferendis. Dolorem, labore necessitatibus tenetur quisquam!"},{id:3,title:"Simple Lunch",description:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Animi eaque corporis vitae dolor fugiat maxime sint dicta laborum nulla ratione! Illo in similique itaque perferendis. Dolorem, labore necessitatibus tenetur quisquam!"},{id:4,title:"Roast Dinner",description:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Animi eaque corporis vitae dolor fugiat maxime sint dicta laborum nulla ratione! Illo in similique itaque perferendis. Dolorem, labore necessitatibus tenetur quisquam!"}]}(),function(){Diabetix.ApplicationRoute=Ember.Route.extend({model:function(){},afterModel:function(){Diabetix.TitleView.set("title","Diabetix")}})}(),function(){Diabetix.FoodsRoute=Ember.Route.extend({afterModel:function(){Diabetix.TitleView.set("title","Foods")}})}(),function(){Diabetix.FoodsSearchRoute=Ember.Route.extend({model:function(a){var b=decodeURIComponent(a.query);return this.controllerFor("foods").set("searchQuery",b),Diabetix.Food.queryFoods(b)},serialize:function(a){return{query:encodeURIComponent(a)}},afterModel:function(){Diabetix.TitleView.set("title","Food Results")}})}(),function(){Diabetix.MealRoute=Ember.Route.extend({afterModel:function(a){var b=a.get("title");Diabetix.TitleView.set("title",b)}})}(),function(){Diabetix.MealsRoute=Ember.Route.extend({model:function(){return this.store.find("meal")},afterModel:function(){Diabetix.TitleView.set("title","Meals")}})}(),function(){var a=Ember.View.extend({tagName:"h1",classNames:["title"]});Diabetix.TitleView=a.create({templateName:"title"})}(),function(){Diabetix.Router.map(function(){this.resource("foods",function(){this.route("search",{path:"/search/:query"})}),this.resource("meals"),this.resource("meal",{path:"/meals/:meal_id"})})}();